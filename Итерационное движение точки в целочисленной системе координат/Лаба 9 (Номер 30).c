/*
 * 1. ИЗ ЧЕГО СОСТОИТ ПРОГРАММА?
 *
 *    Программа состоит из ФУНКЦИЙ - отдельных блоков кода, которые 
 *    выполняют конкретные задачи. Обязательная функция - main().
 *    Выполнение всегда начинается с функции main().
 *
 * 
 * 2. КОММЕНТАРИИ (этот текст - комментарий)
 * 
 *    Комментарии - это заметки для программистов, компьютер их игнорирует.
 *    Бывают двух видов:
 *    Многострочные: /* текст * /  (без пробела)
 *    Однострочные:  // текст
 *
 * 
 * 3. ДИРЕКТИВЫ ПРЕПРОЦЕССОРА (начинаются с #)
 * 
 *    #include <stdio.h> - подключает библиотеку (набор готовых функций)
 *    для работы с вводом и выводом данных. Нужна для функции printf().
 *
 * 
 * 4. ТИПЫ ДАННЫХ (в этой программе используется только один)
 *    Каждый тип данных занимает определенное количество памяти и имеет свой диапазон значений.
 *    Размеры могут немного отличаться в зависимости от системы и компилятора.
 *    Ниже указаны типичные значения для 64-битных систем:
 * 
 *    ТИП       РАЗМЕР       ДИАПАЗОН ЗНАЧЕНИЙ                    ПРИМЕРЫ
 *    ---------------------------------------------------------------------------------
 *    char      1 байт       от -128 до 127                      'A', 'b', '5', '$', '\n'
 *    ----------------------------------------------------------
 *    int       4 байта      от -2 147 483 648 до 2 147 483 647  -10, 0, 5, 100
 *    ----------------------------------------------------------
 *    float     4 байта      примерно ±3.4e±38                   3.14, -0.5, 100.0, 2.71828  (6-9 значащих цифр)
 *    ----------------------------------------------------------
 *    double    8 байт       примерно ±1.7e±308                  3.1415926535, 1.7976931348623157  (15-17 значащих цифр)
 *    ----------------------------------------------------------
 *    long      8 байт       от -9 223 372 036 854 775 808       -1000000, 0L, 9223372036854775807
 *                           до 9 223 372 036 854 775 807
 *    ----------------------------------------------------------
 *    void      нет размера  не имеет значения                   используется для функций без возвращаемого значения
 *    ----------------------------------------------------------
 *    long long 8 байт       от -9.22e18 до 9.22e18              10000000000LL
 * 
 *    БЕЗЗНАКОВЫЕ ВАРИАНТЫ (только положительные):
 *    ---------------------------------------------------------------------------------
 *    unsigned char     1 байт     от 0 до 255                   200, 0, 255
 *    unsigned int      4 байта    от 0 до 4 294 967 295         4000000000
 *    unsigned long     8 байт     от 0 до 18 446 744 073        18446744073709551615UL
 *    
 * 
 * 
 * 5. ОБЪЯВЛЕНИЕ ПЕРЕМЕННОЙ
 * 
 *    Синтаксис: тип имя_переменной;
 *    Пример:    int age;      // Объявили переменную с именем "age"
 * 
 *    Числа
 *    int height = 175; // Переменная "height" со значением 175
 * 
 *    Символы
 *    char firstLetter = 'A';     // Символы заключаются в одинарные кавычки
 *    char newLine = '\n';        // Специальный символ новой строки
 *    char digit = '7';           // Цифра как символ (не число 7!)
 * 
 *    Константы (значения, которые нельзя изменить)
 *    const int MAX_SIZE = 100;   // const делает переменную константой
 * 
 *    Дробные числа
 *    float temperature = 23.5f;  // f в конце указывает, что это float (а не double)
 *    float pi = 3.14;            // Без f тоже можно, но число будет преобразовано к float
 *    double preciseValue = 3.141592653589793; // double имеет большую точность
 *    
 *    Длинные целые
 *    long bigNumber = 1000000L;  // L (можно также писать l) в конце указывает, что это long
 * 
 * 
 * 6. ОПЕРАТОРЫ (символы для операций)
 * 
 *    Математические:
 *      +  сложение      5 + 3 = 8
 *      -  вычитание     5 - 3 = 2  
 *      *  умножение     5 * 3 = 15
 *      %  остаток от деления  5 % 3 = 2 (потому что 5 ÷ 3 = 1 и остаток 2)
 * 
 *    ВАЖНО ПРО ОСТАТОК!!!
 *    В языке C оператор `%` возвращает остаток от деления, который может быть отрицательным. 
 *    Для алгоритма в программе нужен математический модуль — всегда неотрицательный результат. 
 *    Поэтому в решении должна быть реализована отдельная логика, которая прибавляет делитель к отрицательным числам, пока они не станут положительными.
 *
 *    Сравнения (возвращают "истину" или "ложь"):
 *      >   больше        5 > 3  → истина
 *      <   меньше        5 < 3  → ложь
 *      ==  равно         5 == 5 → истина
 *      !=  не равно      5 != 3 → истина
 *
 *    Присваивания:
 *      =   присвоить     x = 5; // Теперь x равен 5
 *
 * 
 * 7. УСЛОВНЫЙ ОПЕРАТОР if-else if-else
 * 
 *    Позволяет выполнять разный код в зависимости от условия.
 *    
 *    СИНТАКСИС:
 *    if (условие) {
 *        // код, который выполнится, если условие ИСТИННО
 *    } 
 *    else if (другое_условие) {
 *        // код, если первое условие ложно, а второе истинно
 *    }
 *    else {
 *        // код, если ВСЕ условия выше были ложны
 *    }
 *
 * 
 * 8. ФУНКЦИИ
 * 
 *    Функция - это именованный блок кода, который можно вызывать 
 *    много раз из разных мест программы.
 *
 *    СТРУКТУРА ФУНКЦИИ:
 *    тип_возвращаемого_значения имя_функции(параметры) {
 *        // тело функции
 *        return значение; // возвращает результат
 *    }
 *
 *    ПРИМЕР:
 *    int square(int number) {   // Функция "square" принимает int, возвращает int
 *        int result = number * number;
 *        return result;         // Возвращает квадрат числа
 *    }
 *
 * 
 * 9. ЦИКЛ for
 * 
 *     Позволяет повторять код несколько раз.
 *
 *     СИНТАКСИС:
 *     for (инициализация; условие; шаг) {
 *         // тело цикла (повторяемый код)
 *     }
 *
 *     ПРИМЕР (повторить 3 раза):
 *     for (int i = 0; i < 3; i = i + 1) {
 *         printf("Привет"); // Напечатает "Привет" 3 раза
 *     }
 *
 * 
 * 10. ФУНКЦИЯ printf() ДЛЯ ВЫВОДА НА ЭКРАН
 * 
 *     printf("Текст %d еще текст", переменная);
 *     %d - специальный код, означает "вставь сюда целое число"
 *     %f - десятичное число с плавающей точкой
 *     %c - одиночный символ
 *     %s - строка
 *     Пример: printf("Мне %d лет", 20); → напечатает "Мне 20 лет"
 *
 * 
 * 11. ОПЕРАТОР return
 * 
 *     Завершает выполнение функции и возвращает значение.
 *     В функции main() return 0; означает успешное завершение программы.
 *
 * 
 * 12. ФИГУРНЫЕ СКОБКИ { }
 * 
 *     Определяют начало и конца блока кода (функции, условия, цикла).
 *
 * 
 * 13. ТОЧКА С ЗАПЯТОЙ ;
 * 
 *     Завершает каждую инструкцию (как точка в предложении).
 *     Пример: int x = 5;  printf("Hello");  return 0;
 *
 * 
 * ============================================================================
 */


#include <stdio.h>

/*
 * Функция Max - возвращает максимальное из двух чисел
 * Логика:
 * 1. Сравнивает a и b
 * 2. Если a > b, возвращает a
 * 3. Если a < b, возвращает b  
 * 4. Если равны, возвращает a (можно было бы любое из двух)
 */

int Max(int a, int b) {
    if (a > b) {
        return a;
    } else if (a < b) {
        return b;
    } else {
        return a;
    }
}


/*
 * Функция Min - возвращает минимальное из двух чисел
 * Логика:
 * 1. Сравнивает a и b
 * 2. Если a > b, возвращает b (минимальное)
 * 3. Если a < b, возвращает a (минимальное)
 * 4. Если равны, возвращает a
 */

int Min(int a, int b) {
    if (a > b) {
        return b;
    } else if (a < b) {
        return a;
    } else {
        return a;
    }
}


/*
 * Функция Sign - определяет знак числа
 * Логика:
 * 1. Если x > 0, возвращает 1 (положительное)
 * 2. Если x < 0, возвращает -1 (отрицательное)
 * 3. Если x = 0, возвращает 0
 * Аналог математической функции sign(x)
 */

int Sign(int x) {
    if (x > 0) {
        return 1;
    } else if (x < 0) {
        return -1;
    } else {
        return 0;
    }
}


/*
 * Функция AbsInt - возвращает абсолютное значение (модуль) числа
 * Логика:
 * 1. Если x >= 0, возвращает само число
 * 2. Если x < 0, возвращает -x (делает положительным)
 * Реализует |x| из математики
 */

int AbsInt(int x) {
    if (x >= 0) {
        return x;
    } else {
        return -x;
    }
}


/**
 * ФУНКЦИЯ Mod - ВЫЧИСЛЕНИЕ МАТЕМАТИЧЕСКОГО ОСТАТКА
 * 
 * ОСОБЕННОСТЬ: Для отрицательных чисел эта функция работает иначе, чем оператор % в C
 * 
 * Примеры различий:
 *   В C ->          -8 % 5 = -3
 *   В математике -> -8 mod 5 = 2
 *
 * ПОДРОБНЫЙ РАЗБОР АЛГОРИТМА ДЛЯ ОТРИЦАТЕЛЬНЫХ ЧИСЕЛ:
 * 
 * ПРИНЦИП РАБОТЫ:
 * 1. Исходное число a отрицательное
 * 2. Мы ищем наименьшее неотрицательное число, которое отличается от a на кратное b
 * 3. Это достигается последовательным добавлением b
 * 
 * ПРИМЕРЫ ВЫЧИСЛЕНИЙ:
 * 
 * Пример 1: Mod(-8, 5)
 * Исходное: a = -8, b = 5
 * Итерация 1: a = -8 + 5 = -3  (все еще < 0, продолжаем)
 * Итерация 2: a = -3 + 5 = 2   (теперь ≥ 0, выходим)
 * Результат: 2
 * 
 * Пример 2: Mod(-3, 5)
 * Исходное: a = -3, b = 5
 * Итерация 1: a = -3 + 5 = 2   (теперь ≥ 0, выходим)
 * Результат: 2
 * 
 * Пример 3: Mod(-1, 5)
 * Исходное: a = -1, b = 5
 * Итерация 1: a = -1 + 5 = 4   (теперь ≥ 0, выходим)
 * Результат: 4
 * 
 * АЛЬТЕРНАТИВНАЯ РЕАЛИЗАЦИЯ:
 * Тот же результат можно получить одной формулой без цикла:
 * return ((a % b) + b) % b;
 * Но представленная реализация с циклом более наглядна и понятна
 */

int Mod(int a, int b) {
    if (a > 0) {
        return a % b;
    } else {
        while (a < 0)
        {   
            a += b;
        }
        return a;
    }
}


/*
 * Функция Ik - вычисляет новое значение i на шаге k
 * Формула: ((sign(i-j)*l - sign(j-l)*i + sign(i-l)*j - k) mod 35) по модулю
 * Логика:
 * 1. Вычисляет выражение с тремя sign-функциями
 * 2. Вычитает k
 * 3. Применяет AbsInt для получения абсолютного значения
 * 4. Применяет Mod(..., 35) для получения результата в диапазоне [0, 34]
 * Это часть системы итерационных преобразований
 */

int Ik(int i, int j, int l, int k) {
    return Mod(AbsInt(Sign(i - j) * l - Sign(j - l) * i + Sign(i - l) * j - k), 35);
}


/*
 * Функция Jk - вычисляет новое значение j на шаге k
 * Формула: i*max(j,l) mod 30 + j*min(i,l) mod 20 - k
 * Логика:
 * 1. Вычисляет max(j,l) и берет mod 30
 * 2. Умножает на i
 * 3. Вычисляет min(i,l) и берет mod 20  
 * 4. Умножает на j
 * 5. Складывает два произведения и вычитает k
 * Вторая часть системы итераций
 */

int Jk(int i, int j, int l, int k) {
    return i * Mod(Max(j, l), 30) + j * Mod(Min(i, l), 20) - k;
}


/*
 * Функция Lk - вычисляет новое значение l на шаге k
 * Формула: ((i+k)*(j-k)*(l+k)) mod 25
 * Логика:
 * 1. Вычисляет произведение трех выражений: (i+k), (j-k), (l+k)
 * 2. Применяет Mod(..., 25) для получения результата в диапазоне [0, 24]
 * Третья часть системы итераций
 */

int Lk(int i, int j, int l, int k) {
    return Mod((i + k) * (j - k) * (l + k), 25);
}


/*
 * Главная функция main
 * Логика работы программы:
 * 1. Инициализирует начальные значения: i=-1, j=2, l=-1
 * 2. Выполняет 50 итераций (k от 1 до 50):
 *    - Вычисляет новые значения i, j, l по формулам Ik, Jk, Lk
 *    - Обновляет переменные i, j, l
 *    - Проверяет условие попадания в область: 
 *      10 < i < 30 И -5 < j < 5
 *    - Если попадает, выводит "YES" и номер итерации k, завершает программу
 * 3. Если за 50 итераций не попали в область, выводит "NO"
 * 
 * Цель программы: Проверить, попадает ли траектория, заданная итерационными
 * формулами, в заданную прямоугольную область за 50 шагов.
 */

int main() {
    int i = -1;
    int j = 2;
    int l = -1;

    for (int k = 1; k <= 50; k++) {
        int iNew = Ik(i, j, l, k);
        int jNew = Jk(i, j, l, k);
        int lNew = Lk(i, j, l, k);
         
        i = iNew;
        j = jNew;
        l = lNew;

        if (i > 10 && i < 30 && j > -5 && j < 5) {
            printf("YES %d", k);
            return 0;
        }
    }
    printf("NO");
    return 0;
}
