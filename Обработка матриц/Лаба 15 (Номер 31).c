#include <stdio.h>

// Условие: Замена всех минимальных элементов матрицы на число строк, содержащий её минимальный элемент.

int main(void) {
    // Объявляем переменную для хранения размера матрицы (количество строк и столбцов)
    int size;
    
    // Считываем размер квадратной матрицы с клавиатуры
    scanf("%d", &size);

    // Объявляем двумерный массив (матрицу) максимального размера 8x8
    int array[8][8];
    
    // Заполнение матрицы: проходим по всем строкам
    for (int row = 0; row < size; row++) {
        // Для каждой строки проходим по всем столбцам
        for (int col = 0; col < size; col++) {
            // Считываем элемент матрицы с позиции [row][col]
            scanf("%d", &array[row][col]);
        }
    }

    // Выводим пустую строку для разделения ввода и вывода
    printf("\n");

    // lenRow будет хранить количество максимальных элементов в матрице
    int lenRow = 0;
    
    // Инициализируем максимальное число первым элементом матрицы [0][0]
    // Используем long long на случай больших чисел
    long long maxNum = array[0][0];
    
    // Инициализируем минимальное число первым элементом матрицы [0][0]
    long long minNum = array[0][0];
    
    // ПЕРВЫЙ ПРОХОД: Поиск максимального элемента в матрице
    for (int row = 0; row < size; row++) {
        for (int col = 0; col < size; col++) {
            // Если текущий элемент больше найденного максимума
            if (maxNum < array[row][col]) {
                // Обновляем максимальное значение
                maxNum = array[row][col];
            }
        }
    }

    // ВТОРОЙ ПРОХОД: Подсчёт количества максимальных элементов
    // Проходим по всей матрице и считаем, сколько раз встречается максимальное значение
    for (int row = 0; row < size; row++) {
        for (int col = 0; col < size; col++) {
            // Если текущий элемент равен максимальному
            if (maxNum == array[row][col]) {
                // Увеличиваем счётчик на 1
                lenRow += 1;
            }
        }
    }

    // ТРЕТИЙ ПРОХОД: Поиск минимального элемента в матрице
    for (int row = 0; row < size; row++) {
        for (int col = 0; col < size; col++) {
            // Если текущий элемент меньше найденного минимума
            if (minNum > array[row][col]) {
                // Обновляем минимальное значение
                minNum = array[row][col];
            }
        }
    }

    // ЧЕТВЁРТЫЙ ПРОХОД: Замена всех минимальных элементов
    // Заменяем каждый минимальный элемент на количество максимальных элементов (lenRow)
    for (int row = 0; row < size; row++) {
        for (int col = 0; col < size; col++) {
            // Если текущий элемент равен минимальному
            if (minNum == array[row][col]) {
                // Заменяем его на количество максимальных элементов
                array[row][col] = lenRow;
            }
        }
    }

    // ВЫВОД РЕЗУЛЬТАТА: Печать изменённой матрицы
    for (int row = 0; row < size; row++) {
        // Выводим элементы текущей строки
        for (int col = 0; col < size; col++) {
            // Печатаем элемент с пробелом после него
            printf("%d ", array[row][col]);
        }
        // После каждой строки переходим на новую строку
        printf("\n");
    }
}